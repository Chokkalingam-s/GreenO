import html2canvas from"html2canvas";import jsPDF from"jspdf";import{toast}from"react-toastify";export const exportToPDF=async e=>{if(performance.now(),e){toast.info("PDF is being generated..."),e.parentElement.classList.remove("hidden");try{const t=(await html2canvas(e,{backgroundColor:"#fff",scale:1})).toDataURL("image/png");if(!t.startsWith("data:image/png;base64,"))return void toast.error("Failed to generate image from table.");const a=new jsPDF("p","mm","a4"),n=a.getImageProperties(t),o=a.internal.pageSize.getWidth(),r=a.internal.pageSize.getHeight(),s=o-20,i=n.height*s/n.width;let l=i,d=45;for(a.setFont("helvetica","bold"),a.setFontSize(18),a.setTextColor(0,0,0),a.text("R.M.K. ENGINEERING COLLEGE",o/2,20,{align:"center"}),a.setFont("helvetica","normal"),a.setFontSize(12),a.text("(An Autonomous Institution)",o/2,28,{align:"center"}),a.text("R.S.M NAGAR, KAVARAIPETTAI - 601 206",o/2,36,{align:"center"}),a.addImage(t,"PNG",10,d,s,i,void 0,"FAST"),l-=r-d;l>0;)d=l-i+45,a.addPage(),a.addImage(t,"PNG",10,d,s,i,void 0,"FAST"),l-=r;a.save("One student one plant - Overall Progress.pdf"),toast.success("PDF generated successfully...")}catch(e){toast.error(`An error occurred while generating the PDF. ${e}`)}e.parentElement.classList.add("hidden")}};